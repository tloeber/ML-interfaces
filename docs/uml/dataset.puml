@startuml

abstract class BaseDataSet {
  +from(format: BaseDataFormat)
  -splitter: BaseDataSplitter
  -data: BaseDataContainer
}

abstract class BaseDataSplitter {
  -test_proportion: float = 0.2
  -validation_proportion: float = 0.2
  -_split_data()
  +get_train_data(): ReformattableDataInterface
  +get_test_data(): ReformattableDataInterface
  +get_validation_data(): ReformattableDataInterface
  +get_all_data(): ReformattableDataInterface
}

class IndependentDataSplitter
class TimeSeriesDataSplitter {
  -time_identifiers
}

class ClusteredDataSplitter {
  -cluster_identifiers
}

class SpatialDataSplitter {
  -coordinate_identifiers
}

abstract class BaseDataContainer {
}

interface SplittableDataInterface {
  +get_train_data(): ReformattableDataInterface
  +get_test_data(): ReformattableDataInterface
  +get_validation_data(): ReformattableDataInterface
  +get_all_data(): ReformattableDataInterface
}

interface ReformattableDataInterface {
  +<<create>>from_format(format: BaseDataFormat)
  +to_format(format: BaseDataFormat)
  +get_storage_format()
  +persist()
}

BaseDataSplitter <|-- IndependentDataSplitter
BaseDataSplitter <|-- TimeSeriesDataSplitter
BaseDataSplitter <|-- ClusteredDataSplitter
BaseDataSplitter <|-- SpatialDataSplitter

BaseDataSet "1" o-- "1" BaseDataSplitter : has a
BaseDataSet "1" o-- "1" BaseDataContainer : has a

BaseDataContainer --|> SplittableDataInterface
BaseDataContainer --|> ReformattableDataInterface

@enduml
